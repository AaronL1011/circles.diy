{{define "profile-public"}}
{{template "base" .}}
{{end}}

{{define "main"}}
<div class="profile-page">
    <div class="profile-banner">
        <img src="{{.Profile.Banner}}" alt="Profile banner" />
    </div>
    
    <div class="profile-container">
        <div class="profile-header">
            <div class="profile-avatar-large">
                <img src="{{.Profile.Avatar}}" alt="{{.Profile.Handle}}" />
            </div>
            <div class="profile-info">
                <h1 class="profile-name">{{.Profile.Name}}</h1>
                <p class="profile-handle">{{.Profile.Handle}}</p>
                <p class="profile-bio">{{.Profile.Bio}}</p>
            </div>
            <div class="profile-actions">
                {{if not .IsOwner}}
                <button class="profile-action-btn"  >
                    {{if .Profile.IsConnected}}Disconnect{{else}}Connect{{end}}
                </button>
                <button class="profile-action-btn secondary"  >Message</button>
                {{else}}
                <a href="/profile/edit" class="profile-action-btn">Edit Profile</a>
                <button class="profile-action-btn secondary"  >Share Profile</button>
                {{end}}
            </div>
        </div>

        <div class="profile-stats">
            <div class="stat-item">
                <span class="stat-number">{{.Profile.Stats.Posts}}</span>
                <span class="stat-label">Posts</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">{{.Profile.Stats.Connections}}</span>
                <span class="stat-label">Connections</span>
            </div>
        </div>

        <div class="profile-content">
            <div class="content-nav">
                <button class="content-nav-item active"  >Posts</button>
                <button class="content-nav-item"  >Workshop</button>
                <button class="content-nav-item"  >Gallery</button>
                <button class="content-nav-item"  >About</button>
            </div>

            <div class="posts-grid" id="profile-posts">
                {{range .Posts}}
                {{template "post" .}}
                {{end}}
            </div>

            {{if .HasMorePosts}}
            <div class="load-more-container" style="text-align: center; margin-top: 2rem;">
                <button class="sidebar-action-btn"   >
                    Load More Posts
                </button>
            </div>
            {{end}}
        </div>
    </div>
</div>

<!-- Modal container -->
<div id="modal" ></div>
{{end}}

{{define "scripts"}}
{{end}}